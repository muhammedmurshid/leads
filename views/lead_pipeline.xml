<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="leads_logic_pipeline_form_view" model="ir.ui.view">
        <field name="name">Leads Details</field>
        <field name="model">logic.leads.pipeline</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Lead">
                <script>
                    $(".o_ChatterTopbar_buttonLogNote").css("display","none")
                </script>
                <header>

                    <field name="state" widget="statusbar"/>
                    <button name="action_lead_assign" type="object" string="Lead Assign" class="oe_highlight"
                            states="draft"/>
                </header>

                <sheet>
                    <div class="oe_button_box" name="button_box" position="inside">
                        <button class="oe_stat_button" type="object" name="get_admission_profile"
                                icon="fa-address-card-o">
                            <field string="Admission" name="admission_count" widget="statinfo"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="get_student_profile"
                                icon="fa-user-circle">
                            <field string="Student" name="student_count" widget="statinfo"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="get_duplicate_leads"
                                icon="fa-clone">
                            <field string="Duplicates" name="duplicates_count" widget="statinfo"/>
                        </button>
                    </div>
                    <h2>
                        <field name="reference_no"/>
                    </h2>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="lead_source_id" options="{'no_create': true}"/>
                            <field name="lead_source_name" invisible="1"/>
                            <field name="campaign_name"
                                   attrs="{'invisible':[('lead_source_name', '!=', 'Digital Leads')]}"/>
                            <field name="email_address" widget="mail"/>
                            <field name="phone_number"/>
                            <!--                            <field name="phone_number" widget="phone"/>-->
                            <field name="phone_number_second" widget="phone"/>
                            <field name="country"/>
                            <field name="district"/>
                            <field name="place"/>
                            <field name="mode_of_study"/>
                            <field name="platform"/>

                            <field name="lead_qualification"/>
                            <field name="last_studied_course"/>


                        </group>
                        <group>
                            <field name="remarks_id"/>
                            <field name="college_name"/>
                            <field name="branch"/>
                            <field name="course_type"/>
                            <field name="academic_year"/>
                            <field name="course_id"/>
                            <field name="course_level"/>
                            <field name="course_group"/>
                            <field name="course_papers" widget="many2many_tags"/>
                            <field name="preferred_batch_id"/>
                            <field name="lead_status"/>
                            <field name="lead_quality"/>
                            <field name="probability" widget="percentage"/>


                        </group>
                        <group>
                            <field name="lead_owner"/>
                            <field name="leads_assign"/>
                            <field name="assigned_date" widget="date"/>

                        </group>
                        <group>
                            <field name="date_of_adding"/>
                            <field name="last_update_date"/>
                            <field widget="date" name="admission_date"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                </div>
            </form>
        </field>
    </record>
    <record id="seq_leads_pipeline_sq_number" model="ir.sequence">
        <field name="name">Leads Sequence</field>
        <field name="code">logic.leads.pipeline</field>
        <field name="prefix">LS</field>
        <field name="padding">3</field>
        <field name="company_id" eval="False"/>
    </record>
    <!--    <record id="leads_kanban_view_odoo" model="ir.ui.view">-->
    <!--        <field name="name">logic.leads.pipeline.kanban</field>-->
    <!--        <field name="model">logic.leads.pipeline</field>-->
    <!--        <field name="arch" type="xml">-->
    <!--            <kanban class="o_kanban_mobile" default_group_by="lead_quality" default_order="date_of_adding desc"-->
    <!--                    archivable="false"-->
    <!--                    sample="1" quick_create="0">-->
    <!--                <field name="lead_quality" default_order="lead_quality"-->
    <!--                       attrs="{'invisible':[('lead_quality', '=', 'cold')]}"/>-->
    <!--                <progressbar field="lead_quality"-->
    <!--                             colors='{"bad_lead": "danger", "cold": "warning", "warm": "info", "hot": "success", "nil": "secondary"}'/>-->

    <!--                help="This bar allows to filter the opportunities based on scheduled activities."/>-->

    <!--                &lt;!&ndash;                <progressbar field="state"&ndash;&gt;-->
    <!--                &lt;!&ndash;                             colors='{"completed": "success", "in_progress": "warning", "cancelled": "secondary","hold":"info"}'/>&ndash;&gt;-->
    <!--                <templates>-->
    <!--                    <t t-name="kanban-box">-->
    <!--                        <div t-attf-class="oe_kanban_content oe_kanban_global_click" class="o_kanban_box">-->
    <!--                            <div class="o_kanban_record_body">-->
    <!--                                <span class="float-right text-right">-->
    <!--                                    &lt;!&ndash;                                    <field name="badge" widget="label_selection"&ndash;&gt;-->
    <!--                                    &lt;!&ndash;                                           options="{'classes': {'bronze': 'info', 'silver': 'primary', 'gold': 'success'}}"/>&ndash;&gt;-->
    <!--                                </span>-->
    <!--                            </div>-->
    <!--                            <div>-->

    <!--                                <strong class="o_kanban_record_title">-->
    <!--                                    <span>-->
    <!--                                        <b>Name :</b>-->
    <!--                                        <field name="name"/>-->
    <!--                                        <br/>-->
    <!--                                    </span>-->
    <!--                                </strong>-->
    <!--                            </div>-->
    <!--                            <div class="o_kanban_record_body">-->

    <!--                                <span>-->
    <!--                                    <b>Source :</b>-->
    <!--                                    <field name="leads_source"/>-->
    <!--                                    <br/>-->
    <!--                                </span>-->
    <!--                                <span>-->
    <!--                                    <b>Number :</b>-->
    <!--                                    <field name="phone_number"/>-->
    <!--                                    <br/>-->
    <!--                                </span>-->
    <!--                                <span>-->
    <!--                                    <b>Assign To :</b>-->
    <!--                                    <field name="leads_assign"/>-->
    <!--                                    <field name="leads_assign" widget="many2one_avatar_employee"/>-->
    <!--                                    <br/>-->
    <!--                                </span>-->
    <!--                            </div>-->
    <!--                            <field name="lead_quality" position="attributes">-->
    <!--                                <attribute name="fold">1 if record.lead_quality in ('cold', 'warm') else 0-->
    <!--                                </attribute>-->
    <!--                            </field>-->
    <!--                        </div>-->
    <!--                    </t>-->
    <!--                </templates>-->
    <!--            </kanban>-->
    <!--        </field>-->
    <!--    </record>-->


    <record id="leads_logic_pipeline_tree" model="ir.ui.view">
        <field name="name">Leads Details</field>
        <field name="model">logic.leads.pipeline</field>
        <field name="arch" type="xml">
            <tree sample="1" multi_edit="1">
                <field name="reference_no"/>
                <field name="name"/>
                <field name="lead_source_id"/>
                <field name="phone_number"/>
                <button name="whatsapp_click_button" class="fa fa-whatsapp btn-success" type="object"/>
                <field name="course_id" string="Course"/>
                <field name="probability" widget="percentage"/>
                <field name="lead_quality"/>
                <field name="date_of_adding"/>
                <field name="state" widget="badge" decoration-success="state == 'done'"
                       decoration-info="state == 'draft'" decoration-primary="state == 'assigned'" decoration-warning="state == 're_allocated'" decoration-danger="state == 'cancel'"/>
            </tree>

        </field>
    </record>

    <record model="ir.actions.act_window" id="leads_pipeline_view_action">
        <field name="name">Leads Duplicates</field>
        <field name="res_model">logic.leads.pipeline</field>
        <field name="view_mode">tree,form</field>
    </record>

<!--    <menuitem name="Lead Duplicates" id="lead_pipeline_main_menu"-->
<!--              parent="menu_leads_details"-->
<!--              action="leads_pipeline_view_action"-->
<!--              sequence="11"/>-->


</odoo>